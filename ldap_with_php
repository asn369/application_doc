sudo apt install slapd ldap-utils
or
dnf install httpd php phpldapadmin openldap openldap-clients -y
vim /etc/phpldapadmin/config.php
$servers->setValue('server','host','192.168.122.68');

vim /etc/httpd/conf.d/phpldapadmin.conf   # RHEL/CentOS
# OR
vim /etc/apache2/conf-enabled/phpldapadmin.conf   # Debian/Ubuntu
  Require local //change this by "Require all granted"

systemctl restart httpd    # RHEL/CentOS
systemctl restart apache2  # Debian/Ubuntu

http://<your-server-ip>/phpldapadmin

 wget https://www.openldap.org/software/download/OpenLDAP/openldap-release/openldap-2.6.9.tgz
tar -xvf openldap-2.6.9.tgz 
./configure --prefix=/opt/openldap-2.6.9
make -j8
make -j8 install
 cat /etc/profile.d/openldap.sh
export PATH=/opt/openldap/bin:$PATH
export PATH=/opt/openldap/sbin:$PATH
ls /opt/openldap-2.6.9/
bin  etc  include  lib  libexec  sbin  share  var

nohup /opt/openldap-2.6.9/libexec/slapd -f /opt/openldap-2.6.9/etc/openldap/slapd.conf -h "ldap:/// ldapi:///" &
or 
nohup /opt/openldap-2.6.9/libexec/slapd -F /opt/openldap-2.6.9/etc/openldap/slapd.d -h "ldap:/// ldapi:///" &

cat /usr/lib/systemd/system/slapd.service
[Unit]
Description=OpenLDAP Server Daemon
After=syslog.target network-online.target
Documentation=man:slapd
Documentation=man:slapd-config
Documentation=man:slapd-hdb
Documentation=man:slapd-mdb
Documentation=file:///usr/share/doc/openldap-servers/guide.html

[Service]
Type=forking
ExecStartPre=/usr/libexec/openldap/check-config.sh
ExecStart=/usr/sbin/slapd -u ldap -h "ldap:/// ldaps:/// ldapi:///"

[Install]
WantedBy=multi-user.target
Alias=openldap.service
or 
cat /etc/systemd/system/slapd-custom.service
[Unit]
Description=OpenLDAP Server Daemon
After=syslog.target network-online.target
Documentation=man:slapd
Documentation=man:slapd-config
Documentation=man:slapd-hdb
Documentation=man:slapd-mdb
Documentation=file:///usr/share/doc/openldap-servers/guide.html

[Service]
Type=forking
#ExecStartPre=/usr/libexec/openldap/check-config.sh
ExecStart=/opt/openldap-2.6.9/libexec/slapd -u ldap -h "ldap:/// ldaps:/// ldapi:///"

[Install]
WantedBy=multi-user.target
Alias=openldap.service
sudo sed -n '72p' /opt/openldap-2.6.9/etc/openldap/slapd.conf
sudo mkdir -p /opt/openldap-2.6.9/var/openldap-data
sudo chown -R ldap:ldap /opt/openldap-2.6.9/var/openldap-data
sudo chown -R ldap:ldap /opt/openldap-2.6.9/var/run


New setup:-

wget https://dl.rockylinux.org/pub/rocky/8/PowerTools/x86_64/os/Packages/o/openldap-servers-2.4.46-21.el8_10.x86_64.rpm
yum install ./openldap-servers-2.4.46-21.el8_10.x86_64.rpm 
systemctl status slapd.service 
slappasswd 
New password: 
Re-enter new password: 
{SSHA}LdpF2thPU6MZBLihpy0tV/5FyYtFGSkn    //password-123

cat /etc/openldap/slapd.d/cn\=config/set-rootpw.ldif 
dn: olcDatabase={2}mdb,cn=config
changetype: modify
replace: olcRootPW
olcRootPW: {SSHA}LdpF2thPU6MZBLihpy0tV/5FyYtFGSkn

ldapmodify -Y EXTERNAL -H ldapi:/// -f set-rootpw.ldif
SASL/EXTERNAL authentication started
SASL username: gidNumber=0+uidNumber=0,cn=peercred,cn=external,cn=auth
SASL SSF: 0
modifying entry "olcDatabase={2}mdb,cn=config"


ldapadd -x -D "cn=admin,dc=my-domain,dc=com" -W -f base.ldif
Enter LDAP Password: 
adding new entry "dc=my-domain,dc=com"
adding new entry "ou=People,dc=my-domain,dc=com"
adding new entry "ou=Groups,dc=my-domain,dc=com"

cat base.ldif 
dn: dc=my-domain,dc=com
objectClass: top
objectClass: dcObject
objectClass: organization
o: My Organization
dc: my-domain

dn: ou=People,dc=my-domain,dc=com
objectClass: top
objectClass: organizationalUnit
ou: People

dn: ou=Groups,dc=my-domain,dc=com
objectClass: top
objectClass: organizationalUnit
ou: Groups

 cat set-admin.ldif 
dn: olcDatabase={2}mdb,cn=config
changetype: modify
replace: olcRootDN
olcRootDN: cn=admin,dc=my-domain,dc=com
-
replace: olcRootPW
olcRootPW: {SSHA}LdpF2thPU6MZBLihpy0tV/5FyYtFGSkn







     
